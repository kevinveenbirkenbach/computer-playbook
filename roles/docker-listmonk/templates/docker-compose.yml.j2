version: "3.7"

services:

  application:
    restart: unless-stopped
    image: listmonk/listmonk:latest
    ports:
      - "127.0.0.1:{{http_port}}:9000"
    environment:
      - TZ=Etc/UTC
    volumes:
      - ./config.toml:/listmonk/config.toml
{% include 'templates/docker-networks-for-container.yml.j2' %}
{% include 'templates/docker-depends-on-central-database.yml.j2' %}

{% include 'templates/docker-{{ database_type }}-service.yml.j2' %}

{% include 'templates/docker-networks-for-role.yml.j2' %}